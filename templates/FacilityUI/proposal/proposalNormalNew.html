{% extends 'BaseUI/BaseFacility/baseProposal.html' %}

{% load staticfiles %}

<!----------BLOCK MENU----------->
{% block listProposal %}{% url 'proposalDisplay' componentID %}{% endblock %}
{% block newProposal %}{% url 'tankNew' componentID %}{% endblock %}
{% block backComp %}{% url 'componentDisplay' equipmentID %}{% endblock %}
<!----------END BLOCK------------>

{% block data-content %}
    <form id="normal" method="post" onsubmit="ShowLoading();">
    {% csrf_token %}
        <div class="input-data">
            <div class="tab">
                <fieldset class="scheduler-border">
                    <legend class="scheduler-border"><b>Assessment</b></legend>
                    <div class="row">
                        <div class="col-md-4">Assessment Name:<span style="color: red">*</span></div>
                        <div class="col-md-8"><input type="text" class="form-control" name="AssessmentName" placeholder="Input assessment name here!" required/></div>
                    </div>
                    <div class="row">
                        <div class="col-md-4">Assessment Date:<span style="color: red">*</span></div>
                        <div class="col-md-8"><input type="text" name="assessmentdate" class="form-control" id="assessmentdate" placeholder="yyyy-mm-dd" required></div>
                        <script>
                            $( "#assessmentdate" ).datepicker({
                            dateFormat: 'yy-mm-dd'
                        });
                        $("#assessmentdate").datepicker('setDate', new Date());
                        </script>
                    </div>
                    <div class="row">
                        <div class="col-md-4">Assessment Method:<span style="color: red">*</span></div>
                        <div class="col-md-8"><select class="form-control" name="AssessmentMethod">
                            <option>Semi-Quantitative PoF and Semi-Quantitative CoF</option>
                            <option>Semi-Quantitative PoF and Fully-Quantitative CoF</option>
                            <option>Fully-Quantitative PoF and Semi-Quantitative CoF</option>
                            <option>Fully-Quantitative PoF and Fully-Quantitative CoF</option>
                         </select> </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-4">Risk Analysis Period (months):</div>
                        <div class="col-md-8"><input type="text" class="form-control" name="RiskAnalysisPeriod" value="36" readonly></div>
                    </div>
                </fieldset>
            </div>

            <div class="tab">
                <fieldset class="scheduler-border">
                    <legend class="scheduler-border"><b>Equipment Properties</b></legend>
                    <div class="row">
                        <div class="col-md-5">Administrative Control for Upset Management</div>
                        <div class="col-md-1"><input type="checkbox" name="adminControlUpset" /></div>
                        <div class="col-md-5">Contains Deadlegs</div>
                        <div class="col-md-1"><input  type="checkbox" name="ContainsDeadlegs"/></div>
                    </div>

                    <div class="row">
                        <div class="col-md-5">Highly Effective Inspection for Deadlegs</div>
                        <div class="col-md-1"><input type="checkbox"  name="Highly" /></div>
                        <div class="col-md-5">Cyclic Operation</div>
                        <div class="col-md-1"><input type="checkbox" name="CylicOper" /></div>
                    </div>

                    <div class="row">
                        <div class="col-md-5">Downtime Protection Used</div>
                        <div class="col-md-1"><input  type="checkbox" name="Downtime" /></div>
                        <div class="col-md-5">Steamed Out Prior to Water Flushing</div>
                        <div class="col-md-1"><input type="checkbox" name="SteamedOut" /></div>
                    </div>

                    <div class="row">
                        <div class="col-md-5">Heat Traced</div>
                        <div class="col-md-1"><input type="checkbox" name="HeatTraced" /></div>
                        <div class="col-md-5">PWHT</div>
                        <div class="col-md-1"><input type="checkbox" name="PWHT" /></div>
                    </div>

                    <div class="row">
                        <div class="col-md-5">Interface at Soil or Water</div>
                        <div class="col-md-1"><input type="checkbox"  name="InterfaceSoilWater" /></div>
                    </div>

                    <div class="row">
                        <div class="col-md-5">Pressurisation Controlled by Admin</div>
                        <div class="col-md-1"><input type="checkbox" name="PressurisationControlled" /></div>
                        <div class="col-md-5">Liner Online Monitoring</div>
                        <div class="col-md-1"><input  type="checkbox" name="LOM" /></div>
                    </div>

                    <div class="row">
                        <div class="col-md-5">Equipment is Operating for Many Years at Lowest Expected Temperature</div>
                        <div class="col-md-1"><input type="checkbox" name="EquOper" /></div>
                        <div class="col-md-5">Presence of Sulphides, Moisture and Oxygen During Shutdown</div>
                        <div class="col-md-1"><input type="checkbox" name="PresenceofSulphidesShutdow" /></div>
                    </div>

                    <div class="row">
                        <div class="col-md-5" style="color: red">Material is Exposed to Fluids, Mists or Solids Containing Chlorine Externally</div>
                        <div class="col-md-1"><input type="checkbox" name="MFTF"/></div>
                        <div class="col-md-5">Presence of Sulphides, Moisture and Oxygen During Operation</div>
                        <div class="col-md-1"><input type="checkbox" name="PresenceofSulphides" /></div>
                    </div>

                    <br>

                    <div class="row">
                        <div class="col-md-6">Min. Required Temperature Before Pressurisation Allowed by Admin, &deg;C:<span style="color: red">*</span></div>
                        <div class="col-md-6"><input type="number"step="0.01" class="form-control" name="Min" value="0" max="100000" placeholder="Input min req temp here!" required/></div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">External Environment</div>
                        <div class="col-md-6"><select class="form-control" name="ExternalEnvironment">
                            <option value="" disabled selected>Please select external environment..</option>
                            <option>Arid/dry</option>
                            <option>Marine</option>
                            <option>Severe</option>
                            <option>Temperate</option>
                        </select></div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">Thermal History</div>
                        <div class="col-md-6"><select  class="form-control" name="ThermalHistory">
                            <option value="" selected disabled>Please select thermal history..</option>
                            <option>None</option>
                            <option>Solution Annealed</option>
                            <option>Stabilised After Welding</option>
                            <option>Stabilised Before Welding</option>
                        </select></div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">Online Monitoring</div>
                        <div class="col-md-6"><select class="form-control" name="OnlineMonitoring">
                            <option value="" disabled selected>Please select online monitoring..</option>
                            <option>Amine high velocity corrosion - Corrosion coupons</option>
                            <option>Amine high velocity corrosion - Electrical resistance probes</option>
                            <option>Amine high velocity corrosion - Key process variable</option>
                            <option>Amine low velocity corrosion - Corrosion coupons</option>
                            <option>Amine low velocity corrosion - Electrical resistance probes</option>
                            <option>Amine low velocity corrosion - Key process variable</option>
                            <option>HCL corrosion - Corrosion coupons</option>
                            <option>HCL corrosion - Electrical resistance probes</option>
                            <option>HCL corrosion - Key process variable</option>
                            <option>HCL corrosion - Key process variable & Electrical resistance probes</option>
                            <option>HF corrosion - Corrosion coupons</option>
                            <option>HF corrosion - Electrical resistance probes</option>
                            <option>HF corrosion - Key process variable</option>
                            <option>High temperature H2S/H2 corrosion - Corrosion coupons</option>
                            <option>High temperature H2S/H2 corrosion - Electrical resistance probes</option>
                            <option>High temperature H2S/H2 corrosion - Key process parameters</option>
                            <option>High temperature Sulfidic / Naphthenic acid corrosion - Corrosion coupons</option>
                            <option>High temperature Sulfidic / Naphthenic acid corrosion - Electrical resistance probes</option>
                            <option>High temperature Sulfidic / Naphthenic acid corrosion - Key process variable</option>
                            <option>No online monitoring</option>
                            <option>Other corrosion - Corrosion coupons</option>
                            <option>Other corrosion - Electrical resistance probes</option>
                            <option>Other corrosion - Hydrogen probes</option>
                            <option>Other corrosion - Key process variable</option>
                            <option>Other corrosion - Key process variable and Hydrogen probes</option>
                            <option>Sour water high velocity corrosion - Corrosion coupons</option>
                            <option>Sour water high velocity corrosion - Electrical resistance probes</option>
                            <option>Sour water high velocity corrosion - Key process variable</option>
                            <option>Sour water low velocity corrosion - Corrosion coupons</option>
                            <option>Sour water low velocity corrosion - Electrical resistance probes</option>
                            <option>Sour water low velocity corrosion - Key process variable</option>
                            <option>Sulfuric acid (H2S/H2) corrosion high velocity - Corrosion coupons</option>
                            <option>Sulfuric acid (H2S/H2) corrosion high velocity - Electrical resistance probes</option>
                            <option>Sulfuric acid (H2S/H2) corrosion high velocity - Key process parameters</option>
                            <option>Sulfuric acid (H2S/H2) corrosion high velocity - Key process parameters & electrical resistance probes</option>
                            <option>Sulfuric acid (H2S/H2) corrosion low velocity - Corrosion coupons</option>
                            <option>Sulfuric acid (H2S/H2) corrosion low velocity - Electrical resistance probes</option>
                            <option>Sulfuric acid (H2S/H2) corrosion low velocity - Key process parameters</option>
                        </select></div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">Equipment Volume, m<sup>3</sup>:<span style="color: red">*</span></div>
                        <div class="col-md-6"><input type="number" min="0" max="10000000" step="0.01" name="EquipmentVolume" class="form-control" value="0" placeholder="Input equipment volume here!" required/></div>
                    </div>
                </fieldset>
            </div>

            <div class="tab">
                <fieldset class="scheduler-border">
                    <legend class="scheduler-border"><b>Component Properties</b></legend>
                    <div class="row">
                        <div class="col-md-3">Nominal Diameter, in:<span style="color: red">*</span></div>
                        <div class="col-md-3"><input type="number" class="form-control" step="0.01" min="0" max="100000" value="0" name="NominalDiameter" placeholder="Normal diameter!" required/></div>
                        <div class="col-md-3">Nominal Thickness, mm:<span style="color: red">*</span></div>
                        <div class="col-md-3"><input onkeyup="NominalThick()" type="number" class="form-control" step="0.01" min="0" max="100000" name="NominalThickness" id="NominalThickness" value="0" placeholder="Normal thickness" required/></div>
                        <script>
                            function Thickness(){
                                var min = document.getElementById("CladdingThickness").value;
                                var max= document.getElementById("NominalThickness").value;
                                if(min>max) {
                                    alert("Cladding thickness must be lesser than nominal thickness. " + min + " > " + max );
                                }
                            }
                            function NominalThick(){
                                var min = parseInt(document.getElementById("CladdingThickness").value);
                                var max = parseInt(document.getElementById("NominalThickness").value);
                                if(max<min) {
                                    alert("Nominal Thickness must be greater than or equal to the cladding thickness."  + min + " > " + max );
                                }
                            }
                        </script>
                    </div>
                    <div class="row">
                        <div class="col-md-3">Current Thickness, mm:<span style="color: red">*</span></div>
                        <div class="col-md-3"><input type="number" class="form-control" step="0.01" min="0" max="100000" value="0" placeholder="Current thickness" name="CurrentThickness" required/></div>
                        <div class="col-md-3">Min. Required Thickness, mm:<span style="color: red">*</span></div>
                        <div class="col-md-3"><input type="number" class="form-control" step="0.01" min="0" max="100000" value="0" placeholder="Req thickness" name="tmin" required/></div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">Current Corrosion Rate, mm/yr:<span style="color: red">*</span></div>
                        <div class="col-md-3"><input type="number" class="form-control" step="0.01" min="0" value="0" max="1000" placeholder="Current rate" name="CurrentRate" required/></div>
                        <div class="col-md-3">Delta FATT:<span style="color: red">*</span></div>
                        <div class="col-md-3"><input type="number" class="form-control" step="0.01" min="0" value="0" max="100000" placeholder="Delta FATT" name="DeltaFATT" required/></div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">Weld Joint Efficiency</div>
                        <div class="col-md-3"><input id="maxN" onkeyup="MaximumN()" type="number" maxlength="10" class="form-control" step="0.01" min="0" value="0" max="1" placeholder="WeldJointEff" name="WeldJointEff" required/></div>
                        <div class="col-md-3">Allowable Stress at Assessment Temperature, MPa:</div>
                        <div class="col-md-3"><input type="number" class="form-control" step="0.01" min="0" value="0" max="1000" placeholder="AllowableStress" name="AllowableStress" required/> </div>
                    </div>
                    <script>
                        function MaximumN(){
                            var max = document.getElementById("maxN").value;
                            if(max>1.00) {
                                alert("the value must be equal or lesser than 1");
                            }
                        }
                    </script>
                    <div class="row">
                        <div class="col-md-3">Structural Thickness, mm:</div>
                        <div class="col-md-3"><input type="number" class="form-control" step="0.01" min="0" value="0" max="1000" placeholder="StructuralThickness" name="StructuralThickness" required/></div>
                        <div class="col-md-3">Component Volume, m<sup>3</sup>:</div>
                        <div class="col-md-3"><input type="number" class="form-control" step="0.01" min="0" value="0" max="1000" placeholder="CompVolume" name="CompVolume" required/></div>
                    </div>
                    <br>
                    <div class="row">
                        <div class="col-md-5">Damage Found During Inspection</div>
                        <div class="col-md-1"><input type="checkbox" list="DFDI" name="DFDI"></div>
                        <div class="col-md-5">Minimum Structural Thickness Governs</div>
                        <div class="col-md-1"><input type="checkbox" name="MinStructural"></div>
                    </div>
                    <div class="row">
{#                        <div class="col-md-5">Presence of Injection Mix Point</div>#}
{#                        <div class="col-md-1"><input type="checkbox" name="Mixpoint"/></div>#}
                        <div class="col-md-5">Presence of Cracks</div>
                        <div class="col-md-1"><input  type="checkbox" name="PresenceCracks"/></div>
                    </div>
                    <div class="row">
                        <div class="col-md-5">Highly Effective Inspection for Corrosion at Injection Mix Point</div>
                        <div class="col-md-1"><input type="checkbox" name="HFICI"/></div>
                    </div>
                    <div class="row">
                        <div class="col-md-5">Chemical Injection</div>
                        <div class="col-md-1"><input type="checkbox" name="ChemicalInjection"></div>
                        <div class="col-md-5">HTHA Damage Observed</div>
                        <div class="col-md-1"><input type="checkbox" name="HTHADamage"></div>
                    </div>
                    <div class="row">
                        <div class="col-md-10">It is fabricated from P-1 and P-3 steels where the design temperature is less than or equal to 343&deg;C (650&deg;F).</div>
                        <div class="col-md-2"><input type="checkbox" name="P1AndP3"></div>
                    </div>
                    <div class="row">
                        <div class="col-md-10">The equipment satisfied all requirements of a recognized code or standard at the time of fabrication.</div>
                        <div class="col-md-2"><input type="checkbox" name="EquipmentRequirements"></div>
                    </div>
                    <div class="row">
                        <div class="col-md-10">The nominal operating conditions have been essentially the same and consistent with the specified design
                        conditions for a significant period of time, and more severe conditions (i.e.,lower temperature and/or higher stress) are not expected in the future.</div>
                        <div class="col-md-2"><input type="checkbox" name="OperatingConditions"></div>
                    </div>
                    <div class="row">
                        <div class="col-md-10">The CET at the MAWP is greater than or equal to -29&deg;C (-20&deg;F)
                        if it is a pressure vessel or -104&deg;C (-155&deg;F) if is a piping circuit.</div>
                        <div class="col-md-2"><input type="checkbox" name="CETtheMAWP"></div>
                    </div>
                    <div class="row">
                        <div class="col-md-10">Cyclic service, fatigue or vibration service is not a design requirement
                        per design code.</div>
                        <div class="col-md-2"><input type="checkbox" name="CyclicService"></div>
                    </div>
                    <div class="row">
                        <div class="col-md-10">The equipment or circuit is not subject to shock chilling.</div>
                        <div class="col-md-2"><input type="checkbox" name="EquipmentorCircuit"></div>
                    </div>
                    <br>
                    <div class="row">
                        <div class="col-md-6">Maximum Brinnell Hardness of Weld:</div>
                        <div class="col-md-6"><select class="form-control" name="MBHW">
                            <option value="" selected disabled>Please select brinnell hardness..</option>
                            <option>Below 200</option>
                            <option>Between 200 and 237</option>
                            <option>Greater than 237</option>
                        </select></div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">Level Of Confidence In Corrosion Rate</div>
                        <div class="col-md-6"><select class="form-control" name="ConfidenceCR">
                            <option value="" selected disabled>Please select level of confidence..</option>
                            <option>Low</option>
                            <option>Medium</option>
                            <option>High</option>
                        </select> </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">Complexity of Protrusions:</div>
                        <div class="col-md-6"><select class="form-control" name="ComplexityProtrusions">
                            <option value="" selected disabled>Please select complexity protrusion..</option>
                            <option>Above average</option>
                            <option>Average</option>
                            <option>Below average</option>
                        </select></div>
                    </div>

                    <div class="row">
                        <div class="col-md-6" style="color: red">Cyclic Loading Connected within 15.25m:</div>
                        <div class="col-md-6"><select class="form-control" name="CLC">
                            <option value="" selected disabled>Please select cyclic loading..</option>
                            <option>None</option>
                            <option>PRV chatter</option>
                            <option>Reciprocating machinery</option>
                            <option>Valve with high pressure drop</option>
                        </select></div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">Branch Diameter:</div>
                        <div class="col-md-6"><select class="form-control" name="BranchDiameter">
                            <option value="" selected disabled>Please select branch diameter..</option>
                            <option>Any branch less than or equal to 2" Nominal OD</option>
                            <option>All branches greater than 2" Nominal OD</option>
                        </select></div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">Joint Type of Branch:</div>
                        <div class="col-md-6"><select class="form-control" name="JTB" >
                            <option value="" selected disabled>Please select joint type..</option>
                            <option>None</option>
                            <option>Piping tee weldolets</option>
                            <option>Saddle in fittings</option>
                            <option>Sweepolets</option>
                            <option>Threaded, socket welded, or saddle on</option>
                        </select></div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">Number of Fittings on Pipe:</div>
                        <div class="col-md-6"><select class="form-control" name="NFP">
                            <option value="" disabled selected>Please select number piping..</option>
                            <option>More than 10</option>
                            <option>6 to 10</option>
                            <option>Up to 5</option>
                        </select></div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">Pipe Condition:</div>
                        <div class="col-md-6"><select class="form-control" name="PipeCondition">
                            <option value="" selected disabled>Please select pipe condition..</option>
                            <option>Broken gussets or gussets welded directly to pipe</option>
                            <option>Good condition</option>
                            <option>Missing or damage supports, improper support</option>
                        </select></div>
                    </div>

                    <div class="row">
                        <div class="col-md-6" style="color: red">Previous Failures:</div>
                        <div class="col-md-6"><select class="form-control" name="PreviousFailures">
                            <option value="" selected disabled>Please select previous failures..</option>
                            <option>Greater than one</option>
                            <option>One</option>
                            <option>None</option>
                        </select></div>
                    </div>

                    <div class="row">
                        <div class="col-md-6" style="color: red">Visible or Audible Shaking Detected</div>
                        <div class="col-md-6"><input  type="checkbox" name="VASD"/></div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">Amount of Shaking of the Pipe:</div>
                        <div class="col-md-6"><select class="form-control" name="ASP">
                            <option value="" selected disabled>Please select amount shaking piping..</option>
                            <option>Minor</option>
                            <option>Moderate</option>
                            <option>Severe</option>
                        </select></div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">Accumulated Time Shaking of Pipe:</div>
                        <div class="col-md-6"><select class="form-control" name="ATSP">
                            <option value="" disabled selected>Please select accumilate time sharking piping..</option>
                            <option>13 to 52 weeks</option>
                            <option>2 to 13 weeks</option>
                            <option>Less than 2 weeks</option>
                        </select></div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">Corrective Action to Mitigate Vibration:</div>
                        <div class="col-md-6"><select class="form-control" name="CAMV">
                            <option value="" selected disabled>Please select correct action to mitigate..</option>
                            <option>Engineering Analysis</option>
                            <option>Experience</option>
                            <option>None</option>
                        </select></div>
                    </div>
                </fieldset>
            </div>

            <div class="tab">
                <fieldset class="scheduler-border">
                    <legend class="scheduler-border"><b>Operating Condition</b></legend>
                    <div class="row">
                        <div class="col-md-3" style="color: red">Maximum Operating Temperature, &deg;C:<span style="color: red">*</span></div>
                        <div class="col-md-3"><input onkeyup="MaximumOT()" type="number" class="form-control" step="0.01" value="0" max="100000" name="MaxOT" id="MaxOT" placeholder="Minimum operator temp" required/></div>
                        <div class="col-md-3" style="color: red">Minimum Operating Temperature, &deg;C:<span style="color: red">*</span></div>
                        <div class="col-md-3"><input onkeyup="MinimumOT()" type="number" step="0.01" class="form-control" value="0" max="100000" name="MinOT" id="MinOT" placeholder="Minimum operator pressure" required/></div>
                        <script>
                            function MaximumOT(){
                                var min = parseInt(document.getElementById("MinOT").value);
                                var max = parseInt(document.getElementById("MaxOT").value);
                                if(min > max) {
                                    alert("Minimum value must be lesser than maximum value. " + min + " > " + max );
                                }
                            }
                            function MinimumOT(){
                                var min = parseInt(document.getElementById("MinOT").value);
                                var max = parseInt(document.getElementById("MaxOT").value);
                                if(max<min) {
                                    alert("Maximum value must be greater than minimum value."  + min + " > " + max );
                                }
                            }
                        </script>
                    </div>
                    <div class="row">
                        <div class="col-md-3">Maximum Operating Pressure, MPa:<span style="color: red">*</span></div>
                        <div class="col-md-3"><input onkeyup="Maximum()" type="number" step="0.01" class="form-control" value="0" max="100000" name="MaxOP" id="MaxOP" placeholder="Maximum operator pressure" required/></div>
                        <div class="col-md-3">Minimum Operating Pressure, MPa:<span style="color: red">*</span></div>
                        <div class="col-md-3"><input onkeyup="Minimum()" type="number" value="0" class="form-control" step="0.01" max="100000" name="MinOP" id="MinOP" placeholder="Minimum operator pressure" required/></div>
                        <script>
                            function Maximum(){
                                var min = parseInt(document.getElementById("MinOP").value);
                                var max = parseInt(document.getElementById("MaxOP").value);
                                if(min > max) {
                                    alert("Minimum value must be lesser than maximum value. " + min + " > " + max );
                                }
                            }
                            function Minimum(){
                                var min = parseInt(document.getElementById("MinOP").value);
                                var max = parseInt(document.getElementById("MaxOP").value);
                                if(max<min) {
                                    alert("Maximum value must be greater than minimum value."  + min + " > " + max );
                                }
                            }
                        </script>
                    </div>
                    <div class="row">
                        <div class="col-md-3" style="color: red">Operating Hydrogen Partial Pressure, MPa:<span style="color: red">*</span></div>
                        <div class="col-md-3"><input type="number" class="form-control" step="0.01" value="0" max="1000000000" name="OHPP" placeholder="Operator hydrogen pressure" required/></div>
                        <div class="col-md-3" style="color: red">Critical Exposure Temperature, &deg;C:<span style="color: red">*</span></div>
                        <div class="col-md-3"><input type="number" value="0" class="form-control" step="0.01" max="100000" name="CET" placeholder="Critical temp" required/></div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">Flow Rate, m<sup>3</sup>/hr:</div>
                        <div class="col-md-3"><input  type="number" value="0" class="form-control" step="0.01" max="100000" name="FlowRate" placeholder="FlowRate" required/></div>
                    </div>
                    <script>
                        $("#MaxOP").change(function () {
                            $maxOP = $("#MaxOP").val();
                            $("#MinOP").prop('max', $maxOP);
                        })
                        $("#MinOP").change(function () {
                            $minOP = $("#MinOP").val();
                            $("#MaxOP").prop('min', $minOP);
                        })
                        $("#MaxOT").change(function () {
                            $maxOT = $("#MaxOT").val();
                            $("#MinOT").prop('max', $maxOT);
                        })
                        $("#MinOT").change(function () {
                            $minOT = $("#MinOT").val();
                            $("#MaxOT").prop('min',$minOT)
                        })
                    </script>
                    <fieldset class="scheduler-border" >
                        <legend class="scheduler-border"><b>Operating Temperature in Different Temperature Ranger</b></legend>
                        <div class="row">
                            <div class="col-md-8">% Operating at -12&deg;C to -8&deg;C:</div>
                            <div class="col-md-4"><input type="number" step="0.01" min="0" max="100" value="0" class="form-control" name="Operating1" required/></div>
                        </div>
                        <div class="row">
                            <div class="col-md-8">% Operating at -8&deg;C to 6&deg;C:</div>
                            <div class="col-md-4"><input type="number" step="0.01" min="0" max="100" value="0" class="form-control" name="Operating2" required/></div>
                        </div>
                        <div class="row">
                            <div class="col-md-8">% Operating at 6&deg;C to 32&deg;C:</div>
                            <div class="col-md-4"><input type="number" step="0.01"  min="0" max="100" value="0" class="form-control" name="Operating3" required/></div>
                        </div>
                        <div class="row">
                            <div class="col-md-8">% Operating at 32&deg;C to 71&deg;C:</div>
                            <div class="col-md-4"><input type="number" step="0.01" min="0" max="100" value="0" class="form-control" name="Operating4" required/></div>
                        </div>
                        <div class="row">
                            <div class="col-md-8">% Operating at 71&deg;C to 107&deg;C:</div>
                            <div class="col-md-4"><input type="number"  min="0" max="100" class="form-control" value="0" step="0.01" name="Operating5" required/></div>
                        </div>
                        <div class="row">
                            <div class="col-md-8">% Operating at 107&deg;C to 121&deg;C:</div>
                            <div class="col-md-4"><input type="number" step="0.01" min="0" max="100" value="0" class="form-control" name="Operating6" required/></div>
                        </div>
                        <div class="row">
                            <div class="col-md-8">% Operating at 121&deg;C to 135&deg;C:</div>
                            <div class="col-md-4"><input type="number" step="0.01" min="0" max="100" value="0" class="form-control" name="Operating7" required/></div>
                        </div>
                        <div class="row">
                            <div class="col-md-8">% Operating at 135&deg;C to 162&deg;C:</div>
                            <div class="col-md-4"><input type="number"  min="0" max="100" class="form-control" step="0.01" value="0" name="Operating8" required/></div>
                        </div>
                        <div class="row">
                            <div class="col-md-8">% Operating at 162&deg;C to 176&deg;C:</div>
                            <div class="col-md-4"><input type="number"  min="0" max="100" step="0.01" value="0" class="form-control" name="Operating9" required/></div>
                        </div>
                        <div class="row">
                            <div class="col-md-8">% Operating at 176&deg;C or Above:</div>
                            <div class="col-md-4"><input type="number"  min="0" max="100" value="0" step="0.01" class="form-control" name="Operating10" required/></div>
                        </div>
                    </fieldset>
                </fieldset>
            </div>

            <div class="tab">
                <fieldset class="scheduler-border">
                    <legend class="scheduler-border"><b>Material</b></legend>
                    <div class="row">
                        <div class="col-md-3">Material:<span style="color: red">*</span></div>
                        <div class="col-md-9"><input type="text" class="form-control" placeholder="Input material here!" name="Material" required/></div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">Max.Design Temperature, &deg;C:<span style="color: red">*</span></div>
                        <div class="col-md-3"><input type="number" class="form-control" step="0.01" value="0" max="100000" name="MaxDesignTemp" id="MaxDesignTemp" placeholder="Maximum design temp" required/></div>
                        <div class="col-md-3" style="color: red;">Min.Design Temperature, &deg;C:<span style="color: red">*</span></div>
                        <div class="col-md-3"><input type="number" step="0.01" class="form-control" value="0" max="100000" name="MinDesignTemp" id="MinDesignTemp" placeholder="Minimum design temp" required/></div>

                        <!-------demo catch data-------->
                        <script>
                            $("#MaxDesignTemp").change(function () {
                                $maxDesignTemp = $("#MaxDesignTemp").val();
                                $("#MinDesignTemp").prop('max', $maxDesignTemp);
                            })
                            $("#MinDesignTemp").change(function () {
                                $minDesignTemp = $("#MinDesignTemp").val();
                                $("#MaxDesignTemp").prop("min", $minDesignTemp);
                            })
                        </script>
                    </div>
                    <div class="row">
                        <div class="col-md-3">Design Pressure, MPa:<span style="color: red">*</span></div>
                        <div class="col-md-3"><input type="number" class="form-control" step="0.01" min="0" value="0" max="100000" name="DesignPressure" placeholder="Design pressure" required/></div>
                        <div class="col-md-3">Reference Temperature, &deg;C:<span style="color: red">*</span></div>
                        <div class="col-md-3"><input type="number" step="0.01" class="form-control" value="0" max="100000" name="ReferenceTemperature" placeholder="Ref temp" required/></div>
                    </div>
                    <div class="row">
{#                        <div class="col-md-3">Allowable Stress at Assessment Temperature, MPa:<span style="color: red">*</span></div>#}
{#                        <div class="col-md-3"><input type="number" class="form-control" step="0.01" value="0" max="100000" min="0" name="ASAT" placeholder="Allow stress" required/></div>#}
                        <div class="col-md-3">Brittle Fracture Governing Thickness, mm:<span style="color: red">*</span></div>
                        <div class="col-md-3"><input type="number" class="form-control" step="0.01" value="0" max="10000" min="0" name="BFGT" placeholder="Brittle thickness" required/></div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">Corrosion Allowance, mm:<span style="color: red">*</span></div>
                        <div class="col-md-3"><input type="number" step="0.01" class="form-control" value="0" min="0" max="10000" name="CorrosionAllowance" placeholder="Corrosion allow" required/></div>
                        <div class="col-md-3">Sigma Phase, %:<span style="color: red">*</span></div>
                        <div class="col-md-3"><input onkeyup="Value()" type="number" step="0.01" min="0" max="100" value="0" class="form-control" name="SigmaPhase" id="SigmaPhase" placeholder="Percent sigma" required/></div>
                        <script>
                            function Value(){
                                var max = document.getElementById("SigmaPhase").value;
                                if(max>100) {
                                    alert("the value must be equal or less than 100");
                                }
                            }
                        </script>
                    </div>
                    <div class="row">
                        <div class="col-md-3">Yield Strength, MPa</div>
                        <div class="col-md-3"><input type="number" step="0.01" min="0" max="100" value="0" class="form-control" name="YieldStrength" placeholder="Yield Strength" required/></div>
                        <div class="col-md-3">Tensile Strength, MPa</div>
                        <div class="col-md-3"><input type="number" step="0.01" min="0" max="100" value="0" class="form-control" name="TensileStrength" placeholder="Tensile Strength" required/></div>
                    </div>
                    <br>
                    <div class="row">
                        <div class="col-md-5" style="color: red">Carbon or Low Alloy Steel</div>
                        <div class="col-md-1"><input type="checkbox" name="CoLAS"/></div>
                        <div class="col-md-5" style="color: red">Austenitic Steel</div>
                        <div class="col-md-1"><input type="checkbox" name="AusteniticSteel"/></div>
                    </div>
                    <div class="row">
                        <div class="col-md-5" style="color: red">Susceptible to Temper</div>
                        <div class="col-md-1"><input type="checkbox" name="SusceptibleTemper"/></div>
                        <div class="col-md-5" style="color: red">Nickel-based Alloy</div>
                        <div class="col-md-1"><input type="checkbox" name="NickelAlloy"/></div>
                    </div>
                    <div class="row">
                        <div class="col-md-5" style="color: red">Chromium &ge;12%</div>
                        <div class="col-md-1"><input type="checkbox" name="Chromium"/></div>
                    </div>
                    <br>
                    <div class="row">
                        <div class="col-md-6">Sulfur Content:</div>
                        <div class="col-md-6"><select class="form-control" name="SulfurContent">
                            <option value="" selected disabled>Please select sulfur content..</option>
                            <option>High > 0.01%</option>
                            <option>Low 0.002 - 0.01%</option>
                            <option>Ultra Low < 0.002%</option>
                        </select></div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">Heat Treatment:</div>
                        <div class="col-md-6"><select class="form-control" name="heatTreatment">
                            <option value="" selected disabled>Please select heat treatment..</option>
                            <option>Annealed</option>
                            <option>None</option>
                            <option>Normalised Temper</option>
                            <option>Quench Temper</option>
                            <option>Stress Relieved</option>
                            <option>Sub Critical PWHT</option>
                        </select></div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">Material is Susceptible HTHA</div>
                        <div class="col-md-6"><input type="checkbox" id="HTHA" name="MGTEHTHA"/></div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">HTHA Material Grade:</div>
                        <div class="col-md-6"><select class="form-control" id="HTHAMaterial" name="HTHAMaterialGrade">
                            <option value="" disabled selected>Please select HTHA material..</option>
                            <option>1.25Cr-0.5Mo</option>
                            <option>1Cr-0.5Mo</option>
                            <option>2.25Cr-1Mo</option>
                            <option>C-0.5Mo (Annealed)</option>
                            <option>C-0.5Mo (Normalised)</option>
                            <option>Carbon Steel</option>
                            <option>Not Applicable</option>
                        </select></div>

                        <!-----------HTHA STICK CHANGE----------->
                        <script>
                            $(document).ready(function () {
                                var check = $("#HTHA").is(':checked');
                                if(check){
                                    $("#HTHAMaterial").attr('disabled', false);
                                }
                                else {
                                    $("#HTHAMaterial").prop('selectedIndex',0);
                                    $("#HTHAMaterial").attr('disabled', true);
                                }
                                $("#HTHA").click(function () {
                                    if($("#HTHA").prop('checked') == true){
                                        $("#HTHAMaterial").attr('disabled', false);
                                    }
                                    else {
                                        $("#HTHAMaterial").prop('selectedIndex',0);
                                        $("#HTHAMaterial").attr('disabled', true);
                                    }
                                })
                            })
                        </script>
                    </div>
                    <div class="row">
                        <div class="col-md-6">Material is Susceptible to PTA</div>
                        <div class="col-md-6"><input type="checkbox" id="PTA" name="MaterialPTA" /></div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">PTA Material Grade:</div>
                        <div class="col-md-6"><select class="form-control" id="PTAMaterial" name="PTAMaterialGrade">
                            <option value="" disabled selected>Please select PTA material..</option>
                            <option>321 Stainless Stee</option>
                            <option>347 Stainless Steel, Alloy 20, Alloy 625, All austenitic weld overlay</option>
                            <option>Regular 300 series Stainless Steels and Alloys 600 and 800</option>
                            <option>H Grade 300 series Stainless Steels</option>
                            <option>L Grade 300 series Stainless Steels</option>
                            <option>Not Applicable</option>
                        </select></div>
                        <!------------PTA CHECKED FUNCTION-------------->
                        <script>
                            $(document).ready(function () {
                                var check = $("#PTA").is(':checked');
                                if(check){
                                    $("#PTAMaterial").attr('disabled', false);
                                }
                                else {
                                    $("#PTAMaterial").prop('selectedIndex',0);
                                    $("#PTAMaterial").attr('disabled', true);
                                }
                                $("#PTA").click(function () {
                                    if($("#PTA").prop('checked') == true){
                                        $("#PTAMaterial").attr('disabled', false);
                                    }
                                    else {
                                        $("#PTAMaterial").prop('selectedIndex',0);
                                        $("#PTAMaterial").attr('disabled', true);
                                    }
                                })
                            })
                        </script>
                    </div>
                    <div class="row">
                        <div class="col-md-6">Material Cost Factor:<span style="color: red">*</span></div>
                        <div class="col-md-6"><input type="number" class="form-control" step="0.01" min="0" value="0" max="1000" name="MaterialCostFactor" placeholder="Material cost factor" required/></div>
                    </div>
                </fieldset>
            </div>

            <div class="tab">
                <fieldset class="scheduler-border">
                    <legend class="scheduler-border"><b>Coating, Cladding, Lining, Insulation</b></legend>
                    <fieldset class="scheduler-border">
                        <legend class="scheduler-border"><b>Coating</b></legend>
                        <div class="row">
                            <div class="col-md-6">Internal Coating</div>
                            <div class="col-md-6"><input type="checkbox" name="InternalCoating"></div>
                        </div>
                        <div class="row">
                            <div class="col-md-6" style="color: red">External Coating</div>
                            <div class="col-md-6"><input type="checkbox" id="ExternalCoating" name="ExternalCoating"></div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">External Coating Installation Date</div>
                            <div class="col-md-6"><input type="text" class="form-control" id="externalID" data-format="yyyy-mm-dd" name="ExternalCoatingID" /></div>
                            <script>
                                $( "#externalID" ).datepicker({
                                    dateFormat: 'yy-mm-dd'
                                });
                                $("#externalID").datepicker('setDate', new Date());
                            </script>
                        </div>
                        <div class="row">
                            <div class="col-md-6" style="color: red">External Coating Quality:</div>
                            <div class="col-md-6"><select class="form-control" id="ExternalCoatingQuality" name="ExternalCoatingQuality">
                                <option value="" disabled selected>Please select coat quality..</option>
                                <option>High coating quality</option>
                                <option>Medium coating quality</option>
                                <option>No coating or poor quality</option>
                            </select></div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">Support Configuration Which Does Not Allow Coating Maintenance</div>
                            <div class="col-md-6"><input type="checkbox" name="SCWD"/></div>
                        </div>
                        <script>
                            $(document).ready(function () {
                                var check = $("#ExternalCoating").is(':checked');
                                if(check){
                                    $("#ExternalCoatingQuality").attr('disabled', false);
                                    $("#externalID").attr('disabled', false);
                                }
                                else {
                                    $("#ExternalCoatingQuality").prop('selectedIndex',0);
                                    $("#ExternalCoatingQuality").attr('disabled', true);
                                    $("#externalID").attr('disabled', true);
                                }
                                $("#ExternalCoating").click(function () {
                                    if($("#ExternalCoating").prop('checked') == true){
                                        $("#ExternalCoatingQuality").attr('disabled', false);
                                        $("#externalID").attr('disabled', false);
                                    }
                                    else {
                                        $("#ExternalCoatingQuality").prop('selectedIndex',0);
                                        $("#ExternalCoatingQuality").attr('disabled', true);
                                        $("#externalID").attr('disabled', true);
                                    }
                                })
                            })
                            </script>
                    </fieldset>
                    <fieldset class="scheduler-border">
                        <legend class="scheduler-border"><b>Cladding</b></legend>
                        <div class="row">
                            <div class="col-md-6">Internal Cladding</div>
                            <div class="col-md-6"><input type="checkbox" name="InternalCladding" id="InternalCladding"/></div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">Cladding Thickness, mm:</div>
                            <div class="col-md-6"><input onkeyup="Thickness()" type="number" class="form-control" step="0.01" min="0" max="1000" name="CladdingThickness" id="CladdingThickness" value="0" placeholder="Cladding Thickness" required/></div>
                            <script>
                                function Thickness(){
                                    var min = document.getElementById("CladdingThickness").value;
                                    var max= document.getElementById("NominalThickness").value;
                                    if(min>max) {
                                        alert("Cladding thickness must be lesser than nominal thickness. " + min + " > " + max );
                                    }
                                }
                                function NominalThick(){
                                    var min = parseInt(document.getElementById("CladdingThickness").value);
                                    var max = parseInt(document.getElementById("NominalThickness").value);
                                    if(max<min) {
                                        alert("Nominal Thickness must be greater than or equal to the cladding thickness."  + min + " > " + max );
                                    }
                                }
                            </script>
                        </div>
                        <div class="row">
                            <div class="col-md-6">Cladding Corrosion Rate, mm/yr:<span style="color: red">*</span></div>
                            <div class="col-md-6"><input type="number" class="form-control" step="0.01" min="0" max="1000" name="CladdingCorrosionRate" value="0" placeholder="Cladding corrosion rate" required/></div>
                        </div>
                    </fieldset>
                    <fieldset class="scheduler-border">
                        <legend class="scheduler-border"><b>Lining</b></legend>
                        <div class="row">
                            <div class="col-md-6" style="color: red">Internal Lining</div>
                            <div class="col-md-6"><input type="checkbox" id="InterLinning" name="InternalLining"/></div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">Internal Liner Type:</div>
                            <div class="col-md-6"><select class="form-control" id="LinningType" name="InternalLinerType">
                                <option value="" disabled selected>Please select linning type..</option>
                                <option>Acid Brick</option>
                                <option>Castable refractory</option>
                                <option>Castable refractory severe condition</option>
                                <option>Fiberglass</option>
                                <option>Glass lined</option>
                                <option>Organic Low Quality</option>
                                <option>Organic Medium Quality</option>
                                <option>Organic High Quality</option>
                                <option>Strip lined alloy</option>
                            </select></div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">Internal Liner Condition:</div>
                            <div class="col-md-6"><select class="form-control" id="LinningCondition" name="InternalLinerCondition">
                                <option value="" disabled selected>Please select linning condition..</option>
                                <option>Average</option>
                                <option>Good</option>
                                <option>Poor</option>
                                <option>Unknown</option>
                            </select></div>
                        </div>
                        <!-----------LINNING CHECKED-------------->
                            <script>
                                $(document).ready(function () {
                                    var check = $("#InterLinning").is(':checked');
                                    if(check){
                                        $("#LinningType").attr('disabled', false);
                                        $("#LinningCondition").attr('disabled', false);
                                    }
                                    else {
                                        $("#LinningType").prop('selectedIndex',0);
                                        $("#LinningCondition").prop('selectedIndex',0);
                                        $("#LinningType").attr('disabled', true);
                                        $("#LinningCondition").attr('disabled', true);
                                    }
                                    $("#InterLinning").click(function () {
                                        if($("#InterLinning").prop('checked') == true){
                                            $("#LinningType").attr('disabled', false);
                                            $("#LinningCondition").attr('disabled', false);
                                        }
                                        else {
                                            $("#LinningType").prop('selectedIndex',0);
                                            $("#LinningCondition").prop('selectedIndex',0);
                                            $("#LinningType").attr('disabled', true);
                                            $("#LinningCondition").attr('disabled', true);
                                        }
                                    })
                                })
                            </script>
                    </fieldset>
                    <fieldset class="scheduler-border">
                        <legend class="scheduler-border"><b>Insulation</b></legend>
                        <div class="row">
                            <div class="col-md-6" style="color:red;">External Insulation</div>
                            <div class="col-md-6"><input type="checkbox" id="ExternalInsulation" name="ExternalInsulation"/></div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">Insulation Contains Chlorides</div>
                            <div class="col-md-6"><input type="checkbox" name="ICC"/></div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">External Insulation Type:</div>
                            <div class="col-md-6"><select class="form-control" id="ExternalInsulationType" name="ExternalInsulationType">
                                <option value="" disabled selected>Please select insulation type..</option>
                                <option>Unknown/Unspecified</option>
                                <option>Asbestos</option>
                                <option>Calcium Silicate</option>
                                <option>Fiberglass</option>
                                <option>Foam Glass</option>
                                <option>Mineral Wool</option>
                                <option>Pearlite</option>
                            </select></div>
                        </div>
                        <div class="row">
                            <div class="col-md-6" style="color: red">Insulation Condition:</div>
                            <div class="col-md-6"><select class="form-control" id="InsulationCondition" name="InsulationCondition">
                                <option value="" disabled selected>Please select insulation condition..</option>
                                <option>Above average</option>
                                <option>Average</option>
                                <option>Below average</option>
                            </select></div>
                        </div>
                        <!----------------External Checked------------------>
                            <script>
                                $(document).ready(function () {
                                    var check = $("#ExternalInsulation").is(':checked');
                                    if(check){
                                        $("#ExternalInsulationType").attr('disabled', false);
                                        $("#InsulationCondition").attr('disabled', false);
                                    }
                                    else {
                                        $("#ExternalInsulationType").prop('selectedIndex',0);
                                        $("#InsulationCondition").prop('selectedIndex',0);
                                        $("#ExternalInsulationType").attr('disabled', true);
                                        $("#InsulationCondition").attr('disabled', true);
                                    }
                                    $("#ExternalInsulation").click(function () {
                                        if($("#ExternalInsulation").prop('checked') == true){
                                            $("#ExternalInsulationType").attr('disabled', false);
                                            $("#InsulationCondition").attr('disabled', false);
                                        }
                                        else {
                                            $("#ExternalInsulationType").prop('selectedIndex',0);
                                            $("#InsulationCondition").prop('selectedIndex',0);
                                            $("#ExternalInsulationType").attr('disabled', true);
                                            $("#InsulationCondition").attr('disabled', true);
                                        }
                                    })
                                })
                            </script>
                    </fieldset>
                </fieldset>
            </div>

            <div class="tab">
                <fieldset class="scheduler-border">
                    <legend class="scheduler-border"><b>Environment Condition</b></legend>
                    <div class="row">
                        <div class="col-md-3">NaOH Concentration, %:<span style="color: red">*</span></div>
                        <div class="col-md-3"><input onkeyup="NaoH()" type="number" class="form-control" min="0" max="100" value="0" step="0.01" name="NaOHConcentration" id="NaOHConcentration" placeholder="NaOH concent" required/></div>
                        <div class="col-md-3">Release Fluid Percent Toxic, %:<span style="color: red">*</span></div>
                        <div class="col-md-3"><input onkeyup="Toxic()" type="number" step="0.01"  min="0" max="100" value="0" class="form-control" name="RFPT" id="RFPT" placeholder="Fluid percent toxic" required/></div>
                        <script>
                            function NaoH(){
                                var max = document.getElementById("NaOHConcentration").value;
                                if(max>100) {
                                    alert("the NaOH Concentration must be equal or lesser than 100");
                                }
                            }
                            function Toxic(){
                                var max = document.getElementById("RFPT").value;
                                if(max>100) {
                                    alert("the Release Fluid Percent Toxic must be equal or lesser than 100");
                                }
                            }
                        </script>
                    </div>
                    <div class="row">
                        <div class="col-md-3">Chloride Ion, ppm:<span style="color: red">*</span></div>
                        <div class="col-md-3"><input type="number" class="form-control" step="0.01"  min="0" max="1000000" value="0" name="ChlorideIon" placeholder="Chloride ion" required/></div>
                        <div class="col-md-3">CO3 Concentration in Water, ppm:<span style="color: red">*</span></div>
                        <div class="col-md-3"><input type="number" class="form-control" step="0.01"  min="0" max="1000000" value="0" name="CO3" placeholder="CO3 concent" required/></div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">H2S Content in Water, ppm:<span style="color: red">*</span></div>
                        <div class="col-md-3"><input type="number" step="0.01" class="form-control"  min="0" max="1000000" value="0" name="H2SContent" placeholder="H2S content" required/></div>
                        <div class="col-md-3" style="color: red">PH of Water:<span style="color: red">*</span></div>
                        <div class="col-md-3"><input onkeyup="ValuePH()" type="number" step="0.01" class="form-control" min="0" max="14.9" value="7" name="PHWater" id="PHWater" placeholder="PH" required/></div>
                        <script>
                            function ValuePH(){
                                var max = document.getElementById("PHWater").value;
                                if(max>14.9) {
                                    alert("the value must be equal or lesser than 14.9");
                                }
                            }
                        </script>
                    </div>
                    <br>
                    <div class="row">
                        <div class="col-md-5" style="color: red">Exposed To Acid Gas Treating Amine</div>
                        <div class="col-md-1"><input type="checkbox" name="EAGTA"/></div>
                        <div class="col-md-5">Toxic Constituents</div>
                        <div class="col-md-1"><input type="checkbox" name="ToxicConstituents"></div>
                    </div>
                    <br>
                    <div class="row">
                        <div class="col-md-3">Exposure to Amine:</div>
                        <div class="col-md-3"><select name="ExposureAmine" class="form-control">
                            <option value="" selected disabled>Please select exposure amine..</option>
                            <option>High Rich Amine</option>
                            <option>Low Lean Amine</option>
                            <option>None</option>
                        </select></div>
                        <div class="col-md-3">Amine Solution Composition:</div>
                        <div class="col-md-3"><select class="form-control" name="ASC">
                            <option value="" selected disabled>Please select amine solution..</option>
                            <option>Diethanolamine DEA</option>
                            <option>Diglycolamine DGA</option>
                            <option>Disopropanolamine DIPA</option>
                            <option>Methyldiethanolamine MDEA</option>
                            <option>Monoethanolamine MEA</option>
                            <option>Sulfinol</option>
                        </select></div>
                    </div>
                    <br>
                    <div class="row">
                        <div class="col-md-5" style="color: red">Aqueous Phase During Operation</div>
                        <div class="col-md-1"><input type="checkbox" name="APDO"/></div>
                        <div class="col-md-5" style="color: red">Aqueous Phase During Shut Down</div>
                        <div class="col-md-1"><input type="checkbox" name="APDSD"/></div>
                    </div>
                    <div class="row">
                        <div class="col-md-5" style="color: red">Environment Contains H2S</div>
                        <div class="col-md-1"><input type="checkbox" name="EnvironmentCH2S"/></div>
                        <div class="col-md-5" style="color: red">Presence of Hydrofluoric Acid</div>
                        <div class="col-md-1"><input type="checkbox" name="PHA"/></div>
                    </div>
                    <div class="row">
                        <div class="col-md-5">Presence of Cyanides</div>
                        <div class="col-md-1"><input type="checkbox" name="PresenceCyanides"/></div>
                        <div class="col-md-5" style="color: red">Process Contains Hydrogen</div>
                        <div class="col-md-1"><input type="checkbox" name="PCH"/></div>
                    </div>
                    <div class="row">
                        <div class="col-md-5" style="color:red;">Environment Contains Caustic in Any Concentration</div>
                        <div class="col-md-1"><input type="checkbox" name="ECCAC"/></div>
                        <div class="col-md-5" style="color: red">Exposed to Sulphur-Bearing Compounds</div>
                        <div class="col-md-1"><input type="checkbox" name="ESBC"/></div>
                    </div>
                    <div class="row">
                        <div class="col-md-5" style="color: red">Material is Exposed to Fluids, Mists, or Solids Containing Chlorine Internally</div>
                        <div class="col-md-1"><input type="checkbox" name="MEFMSCC"/></div>
                    </div>
                </fieldset>
            </div>

            <div class="tab">
                <fieldset class="scheduler-border">
                    <legend class="scheduler-border"><b>Consequence Analysis</b></legend>
                    <div class="row">
                        <div class="col-md-3">API Fluid:<span style="color:red">*</span></div>
                        <div class="col-md-3"><select class="form-control" id="APIFluid" name="APIFluid" required>
                            <option value="" selected disabled>Please select fluid..</option>
                            {% for apifluid in api %}
                            <option value="{{ apifluid }}">{{ apifluid }}</option>
                            {% endfor %}
                        </select></div>
                        <div class="col-md-3">Mass Inventory, kg:<span style="color: red">*</span></div>
                        <div class="col-md-3"><input type="number" step="0.01" min="0" max="1000000" class="form-control" name="MassInventory" value="0" placeholder="Mass inventory" required></div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">Systerm:<span style="color: red">*</span></div>
                        <div class="col-md-3"><select class="form-control" id="_Systerm" name="Systerm" required>
                            <option value="" disabled selected>Please select system..</option>
                            <option value="Liquid">Liquid</option>
                            <option value="Vapor">Vapor</option>
                            <option value="Two-phase">Two-phase</option>
                        </select></div>
                        <div class="col-md-3">Mass Component, kg:<span style="color: red">*</span></div>
                        <div class="col-md-3"><input type="number" class="form-control" step="0.01" min="0" max="1000000" name="MassComponent" placeholder="Mass component" value="0" required></div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">Equipment Cost, $/m<sup>2</sup>:<span style="color: red">*</span></div>
                        <div class="col-md-3"><input type="number" class="form-control" step="0.01" min="0" max="1000000" name="EquipmentCost" value="0" placeholder="Equipment cost" required></div>
                        <div class="col-md-3">Mittigation Systerm:</div>
                        <div class="col-md-3"><select class="form-control" name="MittigationSysterm">
                            <option value="" selected disabled>Please select mittigation..</option>
                            <option>Fire water deluge system and monitors</option>
                            <option>Fire water monitors only</option>
                            <option>Foam spray system</option>
                            <option>Inventory blowdown, couple with isolation system classification B or higher</option>
                        </select></div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">Production Cost, $/day:<span style="color: red">*</span></div>
                        <div class="col-md-3"><input type="number" class="form-control" step="0.01" min="0" max="1000000000" name="ProductionCost" placeholder="Production cost" value="0" required></div>
                        <div class="col-md-3">Toxic Percent, %:<span style="color: red">*</span></div>
                        <div class="col-md-3"><input type="number" id="ToxicPercent" name="ToxicPercent" class="form-control" min="0" max="100" step="0.01" value="0" placeholder="Toxic percent" required></div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">Injure Cost, $/fatality:<span style="color: red">*</span></div>
                        <div class="col-md-3"><input type="number" step="0.01" class="form-control" min="0" max="1000000000" name="InjureCost" value="0" placeholder="Injure cost" required></div>
                        <div class="col-md-3">Release Duration, minutes:</div>
                        <div class="col-md-3"><select class="form-control" id="ReleaseDuration" name="ReleaseDuration" ></select></div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">Environment Cost, $/event:<span style="color: red">*</span></div>
                        <div class="col-md-3"><input type="number" class="form-control" step="0.01" min="0" max="10000000000" value="0" name="EnvironmentCost" placeholder="Environ clean cost" required></div>
                        <div class="col-md-3">Person Density, persons/m<sup>2</sup>:<span style="color: red">*</span></div>
                        <div class="col-md-3"><input type="number" class="form-control" step="0.00001" min="0" value="0" max="100" name="PersonDensity" placeholder="Person density" required></div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">Detection Type:</div>
                        <div class="col-md-3"><select class="form-control" name="DetectionType">
                            <option value="" selected disabled>Please select detection..</option>
                            <option>A</option>
                            <option>B</option>
                            <option>C</option>
                        </select></div>
                        <div class="col-md-3">Isulation Type:</div>
                        <div class="col-md-3"><select class="form-control" name="IsulationType">
                            <option value="" selected disabled>Please select isulation..</option>
                            <option>A</option>
                            <option>B</option>
                            <option>C</option>
                        </select></div>
                    </div>

                    <!---- API CHANGE -->
                    <script >
                        $(document).ready(function () {
                            $("#ToxicPercent").attr("readonly",true);
                            $("#ReleaseDuration").attr("disabled", true);
                            $("#ToxicPercent").val("0");
                            $("#APIFluid").change(function () {
                                $("#ReleaseDuration").empty();
                                var val = $(this).val();
                                var system = $("#_Systerm").val();
                                if(val == "HF" || val =="H2S"){
                                    $("#ToxicPercent").attr("readonly",false);
                                    $("#ToxicPercent").attr("readonly",false);
                                    $("#ReleaseDuration").attr("disabled", false);
                                    $("#ReleaseDuration").html("<option value ='5'>5</option>"+
                                    "<option value='10'>10</option><option value='20'>20</option>"+
                                    "<option value='40'>40</option><option value='60'>60</option>"+
                                    "<option value='InstantaneousReleases'>Instantaneous Releases</option>");
                                }
                                else if(val == "Amonia" || val=="Chlorine"){
                                    $("#ToxicPercent").attr("readonly",false);
                                    $("#ReleaseDuration").attr("disabled", false);
                                    $("#ReleaseDuration").html("<option value ='5'>5</option>"+
                                    "<option value='10'>10</option><option value='15'>15</option>"+
                                    "<option value='20'>20</option><option value='25'>25</option>"+
                                    "<option value='30'>30</option><option value='35'>35</option>"+
                                    "<option value='40'>40</option><option value='45'>45</option>"+
                                    "<option value='50'>50</option><option value='55'>55</option>"+
                                    "<option value='60'>60</option>"+
                                    "<option value='InstantaneousReleases'>Instantaneous Releases</option>");
                                }
                                else if(val == "AlCl3"){
                                    $("#ToxicPercent").attr("readonly",false);
                                    $("#ReleaseDuration").attr("disabled", false);
                                    $("#ReleaseDuration").html("<option value ='All'>All</option>");
                                }
                                else if((val == "CO" || val=="HCL")&&(system == "Vapor")){
                                    $("#ToxicPercent").attr("readonly",false);
                                    $("#ReleaseDuration").attr("disabled", false);
                                    $("#ReleaseDuration").html("<option value ='3'>3</option>"+
                                    "<option value='5'>5</option><option value='10'>10</option>"+
                                    "<option value='20'>20</option><option value='40'>40</option>"+
                                    "<option value='60'>60</option>");
                                }
                                else if(val == "Nitric Acid" || val == "NO2" || val == "Phosgene"){
                                    $("#ToxicPercent").attr("readonly",false);
                                    $("#ReleaseDuration").attr("disabled", false);
                                    $("#ReleaseDuration").html("<option value ='3'>3</option>"+
                                    "<option value='5'>5</option><option value='10'>10</option>"+
                                    "<option value='20'>20</option><option value='40'>40</option>"+
                                    "<option value='60'>60</option>");
                                }
                                else if(val == "TDI" && system != "Vapor"){
                                    $("#ToxicPercent").attr("readonly",false);
                                    $("#ReleaseDuration").attr("disabled", false);
                                    $("#ReleaseDuration").html("<option value ='3'>3</option>"+
                                    "<option value='5'>5</option><option value='10'>10</option>"+
                                    "<option value='20'>20</option><option value='40'>40</option>"+
                                    "<option value='60'>60</option>");
                                }
                                else if((val == "EE" || val == "EO") && (system == "Vapor")){
                                    $("#ToxicPercent").attr("readonly",false);
                                    $("#ReleaseDuration").attr("disabled", false);
                                    $("#ReleaseDuration").html("<option value='1.5'>1.5</option><option value ='3'>3</option>"+
                                    "<option value='5'>5</option><option value='10'>10</option>"+
                                    "<option value='20'>20</option><option value='40'>40</option>"+
                                    "<option value='60'>60</option>");
                                }
                                else if(val == "PO" && system == "Vapor"){
                                    $("#ToxicPercent").attr("readonly",false);
                                    $("#ReleaseDuration").attr("disabled", false);
                                    $("#ReleaseDuration").html("<option value ='3'>3</option>"+
                                    "<option value='5'>5</option><option value='10'>10</option>"+
                                    "<option value='20'>20</option><option value='40'>40</option>"+
                                    "<option value='60'>60</option>");
                                }
                                else if(val == "EE" && system != "Vapor"){
                                    $("#ToxicPercent").attr("readonly",false);
                                    $("#ReleaseDuration").attr("disabled", false);
                                    $("#ReleaseDuration").html("<option value='10'>10</option>"+
                                    "<option value='20'>20</option><option value='40'>40</option>"+
                                    "<option value='60'>60</option>");
                                }
                                else if(val == "PO" && system != "Vapor"){
                                    $("#ToxicPercent").attr("readonly",false);
                                    $("#ReleaseDuration").attr("disabled", false);
                                    $("#ReleaseDuration").html("<option value='5'>5</option><option value='10'>10</option>"+
                                    "<option value='20'>20</option><option value='40'>40</option>"+
                                    "<option value='60'>60</option>");
                                }
                                else {
                                    $("#ReleaseDuration").empty();
                                    $("#ReleaseDuration").attr("disabled", true);
                                    $("#ToxicPercent").attr("readonly",true);
                                    $("#ToxicPercent").val("0");
                                }
                            });
                            $("#_Systerm").change(function () {
                                $("#ReleaseDuration").empty();
                                var val = $("#APIFluid").val();
                                var system = $(this).val();
                                if(val == "HF" || val =="H2S"){
                                    $("#ToxicPercent").attr("readonly",false);
                                    $("#ReleaseDuration").attr("disabled", false);
                                    $("#ReleaseDuration").html("<option value ='5'>5</option>"+
                                    "<option value='10'>10</option><option value='20'>20</option>"+
                                    "<option value='40'>40</option><option value='60'>60</option>"+
                                    "<option value='InstantaneousReleases'>Instantaneous Releases</option>");
                                }
                                else if(val == "Amonia" || val=="Chlorine"){
                                    $("#ToxicPercent").attr("readonly",false);
                                    $("#ReleaseDuration").attr("disabled", false);
                                    $("#ReleaseDuration").html("<option value ='5'>5</option>"+
                                    "<option value='10'>10</option><option value='15'>15</option>"+
                                    "<option value='20'>20</option><option value='25'>25</option>"+
                                    "<option value='30'>30</option><option value='35'>35</option>"+
                                    "<option value='40'>40</option><option value='45'>45</option>"+
                                    "<option value='50'>50</option><option value='55'>55</option>"+
                                    "<option value='60'>60</option>"+
                                    "<option value='InstantaneousReleases'>Instantaneous Releases</option>");
                                }
                                else if(val == "AlCl3"){
                                    $("#ToxicPercent").attr("readonly",false);
                                    $("#ReleaseDuration").attr("disabled", false);
                                    $("#ReleaseDuration").html("<option value ='All'>All</option>");
                                }
                                else if((val == "CO" || val=="HCL")&&(system == "Vapor")){
                                    $("#ToxicPercent").attr("readonly",false);
                                    $("#ReleaseDuration").attr("disabled", false);
                                    $("#ReleaseDuration").html("<option value ='3'>3</option>"+
                                    "<option value='5'>5</option><option value='10'>10</option>"+
                                    "<option value='20'>20</option><option value='40'>40</option>"+
                                    "<option value='60'>60</option>");
                                }
                                else if(val == "Nitric Acid" || val == "NO2" || val == "Phosgene"){
                                    $("#ToxicPercent").attr("readonly",false);
                                    $("#ReleaseDuration").attr("disabled", false);
                                    $("#ReleaseDuration").html("<option value ='3'>3</option>"+
                                    "<option value='5'>5</option><option value='10'>10</option>"+
                                    "<option value='20'>20</option><option value='40'>40</option>"+
                                    "<option value='60'>60</option>");
                                }
                                else if(val == "TDI" && system != "Vapor"){
                                    $("#ToxicPercent").attr("readonly",false);
                                    $("#ReleaseDuration").attr("disabled", false);
                                    $("#ReleaseDuration").html("<option value ='3'>3</option>"+
                                    "<option value='5'>5</option><option value='10'>10</option>"+
                                    "<option value='20'>20</option><option value='40'>40</option>"+
                                    "<option value='60'>60</option>");
                                }
                                else if((val == "EE" || val == "EO") && (system == "Vapor")){
                                    $("#ToxicPercent").attr("readonly",false);
                                    $("#ReleaseDuration").attr("disabled", false);
                                    $("#ReleaseDuration").html("<option value='1.5'>1.5</option><option value ='3'>3</option>"+
                                    "<option value='5'>5</option><option value='10'>10</option>"+
                                    "<option value='20'>20</option><option value='40'>40</option>"+
                                    "<option value='60'>60</option>");
                                }
                                else if(val == "PO" && system == "Vapor"){
                                    $("#ToxicPercent").attr("readonly",false);
                                    $("#ReleaseDuration").attr("disabled", false);
                                    $("#ReleaseDuration").html("<option value ='3'>3</option>"+
                                    "<option value='5'>5</option><option value='10'>10</option>"+
                                    "<option value='20'>20</option><option value='40'>40</option>"+
                                    "<option value='60'>60</option>");
                                }
                                else if(val == "EE" && system != "Vapor"){
                                    $("#ToxicPercent").attr("readonly",false);
                                    $("#ReleaseDuration").attr("disabled", false);
                                    $("#ReleaseDuration").html("<option value='10'>10</option>"+
                                    "<option value='20'>20</option><option value='40'>40</option>"+
                                    "<option value='60'>60</option>");
                                }
                                else if(val == "PO" && system != "Vapor"){
                                    $("#ToxicPercent").attr("readonly",false);
                                    $("#ReleaseDuration").attr("disabled", false);
                                    $("#ReleaseDuration").html("<option value='5'>5</option><option value='10'>10</option>"+
                                    "<option value='20'>20</option><option value='40'>40</option>"+
                                    "<option value='60'>60</option>");
                                }
                                else {
                                    $("#ReleaseDuration").empty();
                                    $("#ReleaseDuration").attr("disabled", true);
                                    $("#ToxicPercent").attr("readonly",true);
                                    $("#ToxicPercent").val("0");
                                }
                            });
                        })
                    </script>
                </fieldset>
            </div>

            <div style="overflow:auto;">
                <div style="float:right;">
                  <button type="button" class="btn btn-default" id="prevBtn" onclick="nextPrev(-1)">Previous</button>
                  <button type="button" class="btn btn-success" id="nextBtn" onclick="nextPrev(1)">Next</button>
                </div>
              </div>
            <!-- Circles which indicates the steps of the form: -->
            <div style="text-align:center;margin-top:40px;">
                <span class="step"></span>
                <span class="step"></span>
                <span class="step"></span>
                <span class="step"></span>
                <span class="step"></span>
                <span class="step"></span>
                <span class="step"></span>
                <span class="step"></span>
            </div>
        </div>
    </form>
    <!----------------- Pagnation Data -------------------->
    <script>
        var currentTab = 0; // Current tab is set to be the first tab (0)
        showTab(currentTab); // Display the crurrent tab

        function showTab(n) {
          // This function will display the specified tab of the form...
          var x = document.getElementsByClassName("tab");
          x[n].style.display = "block";
          //... and fix the Previous/Next buttons:
          if (n == 0) {
            document.getElementById("prevBtn").style.display = "none";
          } else {
            document.getElementById("prevBtn").style.display = "inline";
          }
          if (n == (x.length - 1)) {
            document.getElementById("nextBtn").innerHTML = "Submit";
          } else {
            document.getElementById("nextBtn").innerHTML = "Next";
          }
          //... and run a function that will display the correct step indicator:
          fixStepIndicator(n)
        }

        function nextPrev(n) {
          // This function will figure out which tab to display
          var x = document.getElementsByClassName("tab");
          // Exit the function if any field in the current tab is invalid:
          if (n == 1 && !validateForm()) return false;
          // Hide the current tab:
          x[currentTab].style.display = "none";
          // Increase or decrease the current tab by 1:
          currentTab = currentTab + n;
          // if you have reached the end of the form...
          if (currentTab >= x.length) {
            // ... the form gets submitted:
            document.getElementById("normal").submit();
            ShowLoading();
            return false;
          }
          // Otherwise, display the correct tab:
          showTab(currentTab);
        }

        function validateForm() {
          // This function deals with validation of the form fields
          var x, y, i, valid = true;
          x = document.getElementsByClassName("tab");
          y = x[currentTab].getElementsByTagName("input");
          // A loop that checks every input field in the current tab:
          for (i = 0; i < y.length; i++) {
            // If a field is empty...
            if (y[i].value == "") {
                // add an "invalid" class to the field:
                y[i].className += " invalid";
                // and set the current valid status to false
                valid = false;
            }
          }
          // If the valid status is true, mark the step as finished and valid:
          if (valid) {
            document.getElementsByClassName("step")[currentTab].className += " finish";
          }
          return valid; // return the valid status
        }

        function fixStepIndicator(n) {
          // This function removes the "active" class of all steps...
          var i, x = document.getElementsByClassName("step");
          for (i = 0; i < x.length; i++) {
            x[i].className = x[i].className.replace(" active", "");
          }
          //... and adds the "active" class on the current step:
          x[n].className += " active";
        }

        // spinner form by VuNA
        function ShowLoading() {
            var div = document.createElement('div');
            var img = document.createElement('img');
            img.src = '{% static 'image/loading/Pacman-1s-100px.gif' %}';
            div.style.cssText = "position: fixed;left: 50%; top: 30%; width: 300px; text-align: center; background: rgba(54, 25, 25, .00004); border: 0px solid #000;";
            div.appendChild(img);
            document.body.appendChild(div);
            $("#nextBtn").attr('disabled',true);
            $("#prevBtn").attr('disabled',true);
            return true;
        }
    </script>
{% endblock %}